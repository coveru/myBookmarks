<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
   
    <title>我的导航</title>
    <link rel="stylesheet" href="./style.css"">
</head>
<body>
 <header></header>  
 <main>
   <div id="mainxzx"></div>
 </main>
 <footer></footer> 
 <script>
    var keys ={
         '0':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
         '1':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
         '2':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
         'length':3
    }
    var hash = {
        'q':'qq.com',
        'w': 'weibo.com',
        'e': 'email.126.com',
        'r': 'ruanyifeng.com',
        't': 'taobao.com',
        'y': 'youtube.com',
        'u': undefined,
        'i': 'iqiyi.com',
        'o': 'oschina.net',
        'p': 'people.com.cn',
        'a': 'amazon.com',
        's': 'sina.com.cn',
        'd': 'douban.com',
        'f': 'facebook.com',
        'g': 'google.com',
        'h': 'hupu.com',
        'j': 'jirengu.com',
        'k': undefined,
        'l': 'lagou.com',
        'z': 'zhaopin.com',
        'x': 'xuzhixian.info',
        'c': undefined,
        'v': undefined,
        'b': 'bilibili.com',
        'n': undefined,
        'm': undefined
    }
    //var hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || '')
    //if(hashInLocalStorage){
       // hash = hashInLocalStorage
    //}
       // 取出 localstorage 中的 zzz 对应的hash
    var hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')      //遍历 keys， 生成 kbd 标签
    if(hashInLocalStorage){
        hash = hashInLocalStorage
    }
    
    
    index = 0
    while(index< keys['length']){   // index 取值是 0 1 2
        divxzx = document.createElement('div')
        mainxzx.appendChild(divxzx)
        row = keys[index]   // row的取值是  第一个数组  第二个数组  第三个数组
        
        
        index2 = 0
     while(index2<row['length']){     //  取值 第一次0~9  第二次0~8   第三次0~6
        kbdxzx = document.createElement('kbd')
        kbdxzx.textContent = row[index2]
        buttonx = document.createElement('button')
        buttonx.textContent = '编辑'
        buttonx.id = row[index2]
        buttonx.onclick = function(xzkjcnxlkcjlk){
          key = xzkjcnxlkcjlk['target']['id']// q w e r g 用户点击的键的值 
          X = prompt('给我要更改的网址') // 
          hash[key] = X  //hash 变更
         localStorage.setItem('zzz', JSON.stringify(hash))   
            console.log(hash)
            
        }
        kbdxzx.appendChild(buttonx)
        divxzx.appendChild(kbdxzx)  
        index2 = index2 + 1
        }  
         
    
        index = index+1
    }
    document.onkeypress = function(xzkjcnxlkcjlk){
        key = xzkjcnxlkcjlk['key'] // q w e 用户在键盘上按的键
        website = hash[key]
       // location.href = 'http://' +website // 打开当前地址栏里的地址=website
       window.open('http://' +website, '_blank') // 在新的窗口打开地址栏的地址
    }
 </script>
</body>
</html>